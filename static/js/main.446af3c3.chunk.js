(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2uC4S",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1U_qc"}},13:function(e,t,a){e.exports={Button:"Button_Button__1ewZx",buttonWrapper:"Button_buttonWrapper__1MX6E"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2N14Z",Modal:"Modal_Modal__2mzi5"}},30:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3IBVr"}},32:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2jdpy",SearchForm:"Searchbar_SearchForm__2Uz0l",SearchForm_button:"Searchbar_SearchForm_button__3NVu3",SearchForm_button__label:"Searchbar_SearchForm_button__label__2_0I-",SearchForm_input:"Searchbar_SearchForm_input__JozYa"}},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(24),o=a.n(c),s=a(15),i=a(34),l=a(4),u=a(25),m=a(11),b=a.n(m),h=a(26),j=a.n(h),d=function(){var e=Object(u.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat("https://pixabay.com/api/?","&key=").concat("23763400-56e03b3c97aa031975e4c0255","&q=").concat(t).concat("&image_type=photo&orientation=horizontal&safesearch=true","&page=").concat(a,"&per_page=").concat("12"));case 2:if(!((n=e.sent).status>=200&&n.status<300)){e.next=5;break}return e.abrupt("return",n.data.hits);case 5:throw new Error(n.status);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=a(27),f=a(28),_=a(35),O=a(33),p=a(5),S=a.n(p),v=a(0),x=function(e){Object(_.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchString:""},e.handleChange=function(t){return e.setState({searchString:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.searchString;""!==a.trim()?(e.props.onSubmit(a),e.resetForm()):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430...")},e.resetForm=function(){return e.setState({searchString:""})},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.handleSubmit,t=this.handleChange,a=this.state.searchString;return Object(v.jsx)("header",{className:S.a.Searchbar,children:Object(v.jsxs)("form",{className:S.a.SearchForm,onSubmit:e,children:[Object(v.jsx)("button",{type:"submit",className:S.a.SearchForm_button,children:Object(v.jsx)("span",{className:S.a.SearchForm_button__label,children:"Search"})}),Object(v.jsx)("input",{className:S.a.SearchForm_input,type:"text",value:a,onChange:t,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),y=x,I=a(36),w=a(12),k=a.n(w);var F=function(e){var t=e.image,a=t.webformatURL,n=t.largeImageURL,r=t.tags,c=e.showModaHandlelClick;return Object(v.jsx)("li",{className:k.a.ImageGalleryItem,onClick:function(){return c({modalImage:{largeImageURL:n,tags:r}})},children:Object(v.jsx)("img",{src:a,alt:r,className:k.a.ImageGalleryItem_image})})},C=a(30),N=a.n(C),M=["id"];var G=function(e){var t=e.images,a=e.showModaHandlelClick;return Object(v.jsx)("ul",{className:N.a.ImageGallery,children:t.map((function(e){var t=e.id,n=Object(I.a)(e,M);return Object(v.jsx)(F,{image:n,showModaHandlelClick:a},t)}))})},E=a(13),L=a.n(E),B=function(e){var t=e.onClick;return Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:L.a.Button,type:"button",onClick:t,children:Object(v.jsx)("span",{className:L.a.LoadButtonLabel,children:"Load more"})})})},U=a(31),H=a.n(U),T=(a(81),a(32)),z=a.n(T);var R=function(){return Object(v.jsx)(H.a,{className:z.a.Loader,type:"MutatingDots",color:"#3f51b5",height:100,width:100,timeout:3e3})},q=a(14),J=a.n(q);var D=function(e){var t=e.modalImage,a=t.largeImageURL,r=t.tags,c=e.handleToggleModalStatus;return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&c()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[c]),Object(v.jsx)("div",{className:J.a.Overlay,onClick:function(e){e.currentTarget===e.target&&c()},children:Object(v.jsx)("div",{className:J.a.Modal,children:Object(v.jsx)("img",{src:a,alt:r})})})};a(82);var V=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(l.a)(c,2),u=o[0],m=o[1],b=Object(n.useState)(1),h=Object(l.a)(b,2),j=h[0],g=h[1],f=Object(n.useState)(null),_=Object(l.a)(f,2),O=_[0],p=_[1],S=Object(n.useState)(!1),x=Object(l.a)(S,2),I=x[0],w=x[1],k=Object(n.useState)({}),F=Object(l.a)(k,2),C=F[0],N=F[1],M=Object(n.useState)(!0),E=Object(l.a)(M,2),L=E[0],U=E[1],H=function(){U(!L)};return Object(n.useEffect)((function(){""!==a&&(w(!0),d(a,j).then((function(e){if(0===e.length)return Promise.reject(new Error("There is no pictures by ".concat(a," name, please try another request")));console.log(e),m((function(t){return[].concat(Object(s.a)(t||[]),Object(s.a)(e))}))})).catch((function(e){return p(e)})).finally((function(){return w(!1)})))}),[j,a]),Object(n.useEffect)((function(){1!==j&&window.scrollTo({top:document.body.clientHeight,behavior:"smooth"})}),[u]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y,{onSubmit:function(e){r(e),m([]),g(1),p(null)}}),O&&Object(v.jsx)("h1",{children:O.message}),Object(v.jsx)(G,{images:u,showModaHandlelClick:function(e){var t=e.modalImage;N(Object(i.a)({},t)),H()}}),I&&Object(v.jsx)(R,{}),!!u.length&&!I&&Object(v.jsx)(B,{onClick:function(){g((function(e){return e+1}))}}),!L&&Object(v.jsx)(D,{handleToggleModalStatus:H,modalImage:C})]})};o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(V,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.446af3c3.chunk.js.map